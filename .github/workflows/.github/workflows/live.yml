name: Website to YouTube Live (FINAL STABLE)

on:
  workflow_dispatch:

jobs:
  live:
    runs-on: ubuntu-latest
    timeout-minutes: 360   # 6 saat

    steps:
      # ğŸ“¦ Sistem baÄŸÄ±mlÄ±lÄ±klarÄ±
      - name: Install system dependencies
        run: |
          sudo apt update
          sudo apt install -y \
            ffmpeg \
            xvfb \
            chromium-browser

      # ğŸ–¥ï¸ Sanal ekran (imleÃ§ tamamen kapalÄ±)
      - name: Start virtual display
        run: |
          Xvfb :99 -screen 0 720x1280x24 -nocursor &
          echo "DISPLAY=:99" >> $GITHUB_ENV
          sleep 3

      # ğŸŒ YouTube Live aÃ§ (KANAL HANDLE Ä°LE â€“ ID OTOMATÄ°K)
      - name: Open YouTube Live (AUTO ID MODE)
        run: |
          chromium-browser \
            --no-sandbox \
            --disable-dev-shm-usage \
            --disable-gpu \
            --disable-infobars \
            --lang=tr-TR \
            --disable-translate \
            --disable-features=Translate,TranslateUI \
            --no-first-run \
            --no-default-browser-check \
            --disable-notifications \
            --autoplay-policy=no-user-gesture-required \
            --window-size=720,1280 \
            --kiosk \
            "https://www.youtube.com/@oyunhaberleri360/live" &
          sleep 12
